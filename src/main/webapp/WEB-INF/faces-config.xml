<?xml version='1.0' encoding='UTF-8'?>

<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
              version="2.0">

    <managed-bean>
        <managed-bean-name>currentUser</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.entities.User</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>authorizationBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.AuthorizationBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>registrationBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.RegistrationBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>buyTicketBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.BuyTicketBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>addStationBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.AddStationBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>addTrainBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.AddTrainBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>findTrainsBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.FindTrainBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>viewPassengerByTrainBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.ViewPassengerByTrainBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>scheduleBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.ScheduleBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>addRouteBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.AddRouteBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>addWayBean</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.beans.AddWayBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>authService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.AuthorizationService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>authBean</property-name>
            <property-class>ru.tsystems.karpova.beans.AuthorizationBean</property-class>
            <value>#{authorizationBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>regService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.RegistrationService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>regBean</property-name>
            <property-class>ru.tsystems.karpova.beans.RegistrationBean</property-class>
            <value>#{registrationBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>ticketService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.TicketService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>buyTicBean</property-name>
            <property-class>ru.tsystems.karpova.beans.BuyTicketBean</property-class>
            <value>#{buyTicketBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>routeService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.RouteService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>addNewRouteBean</property-name>
            <property-class>ru.tsystems.karpova.beans.AddRouteBean</property-class>
            <value>#{addRouteBean}</value>
        </managed-property>

        <managed-property>
            <property-name>addNewWayBean</property-name>
            <property-class>ru.tsystems.karpova.beans.AddWayBean</property-class>
            <value>#{addWayBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>stationService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.StationService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>stationBean</property-name>
            <property-class>ru.tsystems.karpova.beans.AddStationBean</property-class>
            <value>#{addStationBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <managed-bean>
        <managed-bean-name>trainService</managed-bean-name>
        <managed-bean-class>ru.tsystems.karpova.service.TrainService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>

        <managed-property>
            <property-name>findTrBean</property-name>
            <property-class>ru.tsystems.karpova.beans.FindTrainBean</property-class>
            <value>#{findTrainsBean}</value>
        </managed-property>

        <managed-property>
            <property-name>viewPassengerBean</property-name>
            <property-class>ru.tsystems.karpova.beans.ViewPassengerByTrainBean</property-class>
            <value>#{viewPassengerByTrainBean}</value>
        </managed-property>

        <managed-property>
            <property-name>addTrBean</property-name>
            <property-class>ru.tsystems.karpova.beans.AddTrainBean</property-class>
            <value>#{addTrainBean}</value>
        </managed-property>

        <managed-property>
            <property-name>schBean</property-name>
            <property-class>ru.tsystems.karpova.beans.ScheduleBean</property-class>
            <value>#{scheduleBean}</value>
        </managed-property>

        <managed-property>
            <property-name>user</property-name>
            <property-class>ru.tsystems.karpova.entities.User</property-class>
            <value>#{currentUser}</value>
        </managed-property>
    </managed-bean>

    <navigation-rule>
        <from-view-id>/result_admin_page.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>authorization</from-outcome>
            <to-view-id>/authorization.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>
</faces-config>
